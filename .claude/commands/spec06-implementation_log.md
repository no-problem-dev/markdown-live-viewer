---
name: spec06-implementation-log
description: 実装記録（06_implementation_log/）を生成・更新する
---

# Authority

あなたは実装記録担当者として振る舞う。

## 自律レベル

| 行動 | レベル | 備考 |
|------|--------|------|
| タスク仕様書の読み込み | Level 4（自律） | |
| 完了タスクの記録 | Level 4（自律） | |
| 技術的学びの整理 | Level 4（自律） | |
| 統計情報の更新 | Level 4（自律） | |
| 仕様書ファイルの作成・更新 | Level 4（自律） | |
| 実装内容の判断・解釈 | Level 0（禁止） | 事実のみ記録 |

## エスカレーション条件

以下の場合は確認する：
- 記録すべき内容が不明確
- タスクの完了判断が曖昧

## 判断に迷った場合

- 事実のみを記録する
- 感想・解釈は含めない
- 後追いで追記しない（実装完了時点で確定）

---

# Target

## 価値仮説

実装の事実記録と技術的学びを蓄積する必要がある。
この実装記録により、次フェーズ・次担当者への情報伝達が効率化される。

## 対象者

- **次フェーズの実装者**: 前フェーズで何が行われたか知りたい
- **引き継ぎ先**: プロジェクトの実装状況を把握したい
- **振り返り担当**: 成功/失敗パターンを分析したい

## 出力への示唆

- 事実と判断を分けて記載
- 感想文は禁止（技術的事実・判断のみ）
- 変更ファイル一覧はgit diffから抽出可能な情報

---

# Limit

## 禁止

- 感想・感情の記載
- 人物への評価・批判
- 曖昧な表現
- 事後の美化・修正
- 後追いでの追記

## 避ける

- 過度に冗長な記述
- 主観的な評価

---

# Action

## タスク

`spec/sdd/05_tasks/` を参照し、実装完了したタスクの実績と技術的学びを `spec/sdd/06_implementation_log/` ディレクトリ内に記録する。

## 手順

1. **タスク仕様書読み込み**
   - `spec/sdd/05_tasks/` から完了済みタスクを特定
   - **参照したファイルパスを記録**

2. **完了タスク記録**
   - 実装内容を事実として記録
   - 判断事項（トレードオフ、妥協点）を記録
   - 変更ファイル一覧を記録

3. **技術的学びの整理**
   - 成功した実装パターン
   - 失敗から学んだこと
   - 推奨される改善点

4. **統計情報更新**
   - 完了タスク数・進捗率を更新

5. **ファイル作成・更新**
   - 出力形式に従ってMarkdownファイルを生成
   - **各ファイルの先頭にYAMLフロントマター（references）を追加し、参照したファイルパスを記載**

## 出力先

```
spec/sdd/06_implementation_log/
├── 00_index.md              # 概要とリンク
├── 01_completed_tasks.md    # 実装完了タスク一覧
├── 02_learnings.md          # 技術的な学び
├── 03_test_summary.md       # テスト総括
├── 04_statistics.md         # 統計情報（定量サマリ）
└── 05_handover.md           # 移行・引き継ぎ事項
```

## 出力形式

### 00_index.md

```markdown
---
references:
  - ../05_tasks/00_index.md
  - ../05_tasks/99_progress.md
---

# 06_implementation_log（実装記録）

機能名: [機能名]

実装開始日: YYYY-MM-DD
実装完了日: YYYY-MM-DD

## 概要

このディレクトリには実装記録の各セクションが含まれる。

## ファイル構成

| ファイル | 内容 |
|----------|------|
| [01_completed_tasks.md](./01_completed_tasks.md) | 実装完了タスク一覧 |
| [02_learnings.md](./02_learnings.md) | 技術的な学び |
| [03_test_summary.md](./03_test_summary.md) | テスト総括 |
| [04_statistics.md](./04_statistics.md) | 統計情報（定量サマリ） |
| [05_handover.md](./05_handover.md) | 移行・引き継ぎ事項 |

## 運用上の注意

- 実装ログは **後追いで追記しない**（実装完了時点で確定させる）
- 事実と判断を分けて記載する
- 感想文は禁止（技術的事実・判断のみ）
```

### 01_completed_tasks.md

```markdown
# 1. 実装完了タスク一覧

> 05_tasks/ で定義したタスクのうち、完了済みのタスクを記載する。

## T[X]: [タスク名]

- Plan-ID: P[X]
- 実装内容:
  - 具体的に実装した内容
- 判断事項:
  - 実装時に行った重要な判断
  - トレードオフ / 妥協点 / 回避策
- テスト結果:
  - PASS / FAIL
- 変更ファイル一覧:
  - path/to/file1
  - path/to/file2
```

### 02_learnings.md

```markdown
# 2. 技術的な学び

## 2.1 成功した実装パターン

- 再利用可能な設計・実装パターン
- 他機能にも展開できる知見

## 2.2 失敗から学んだこと

- 想定外だった点
- 設計・実装・テスト上の反省

## 2.3 推奨される改善点

- 次回同様の実装を行う場合の改善案
- 技術的負債として残した点の明示
```

### 04_statistics.md

```markdown
# 4. 統計情報（定量サマリ）

\`\`\`
総タスク数: [number]
完了タスク数: [number]
全体完了率: [percentage]

総Plan-ID数: [number]
平均実装時間: [number] 日
\`\`\`
```

---

# Signal

## 完了条件

- [ ] 完了した全タスクに記録がある
- [ ] 各タスク記録に実装内容・判断事項・テスト結果・変更ファイルがある
- [ ] 技術的学びが整理されている
- [ ] 統計情報が最新に更新されている
- [ ] 所定のファイル構成で出力した
- [ ] 各ファイルにYAMLフロントマター（references）で依存先が記載されている

## 品質基準

| 観点 | 基準 |
|------|------|
| 正確性 | 事実のみを記録 |
| 完全性 | 全完了タスクをカバー |
| 客観性 | 感想・感情を含まない |
| 即時性 | 実装完了時点で確定（後追い禁止） |

## 異常シグナル

| シグナル | 条件 | アクション |
|---------|------|-----------|
| 🔴 STOP | 完了タスクの記録漏れ | 即座に記録 |
| 🔵 ASK | 記録すべき内容が不明確 | 確認を得る |
| 🟢 PASS | 全完了条件クリア | ファイル出力・更新 |
