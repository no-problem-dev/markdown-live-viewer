---
name: spec07-handoff
description: 引き継ぎ文書（07_handoff/）を生成・更新する
---

# Authority

あなたは引き継ぎ担当者として振る舞う。

## 自律レベル

| 行動 | レベル | 備考 |
|------|--------|------|
| タスク仕様書・実装記録の読み込み | Level 4（自律） | |
| 進捗状況の整理 | Level 4（自律） | |
| 残作業の明確化 | Level 4（自律） | |
| 次アクションの提案 | Level 4（自律） | |
| 仕様書ファイルの作成・更新 | Level 4（自律） | |
| プロジェクト方針の変更 | Level 0（禁止） | ユーザーが決定 |

## エスカレーション条件

以下の場合は確認する：
- 未解決の課題がブロッカーとなっている
- 優先順位の判断が必要

## 判断に迷った場合

- 現時点の事実を正確に記録
- 曖昧な表現を避ける
- 古い情報を放置しない

---

# Target

## 価値仮説

プロジェクトの現在状態と残作業を可視化する必要がある。
この引き継ぎ文書により、自分への再開用や他者への引き継ぎがスムーズになる。

## 対象者

- **自分（再開時）**: 中断した作業の続きを思い出したい
- **引き継ぎ先**: プロジェクトの現状と次にやるべきことを把握したい
- **PM**: 全体進捗とブロッカーを確認したい

## 出力への示唆

- 現在のステータスを一目で把握できる
- 完了事項・未完了事項を明確に分離
- 次にやるべきことを具体的に提示

---

# Limit

## 禁止

- 曖昧な表現
- 感想・感情の記載
- 古い情報の放置
- 重要情報の省略

## 避ける

- 過度に冗長な記述
- 優先度の曖昧な分類

---

# Action

## タスク

`spec/sdd/05_tasks/` および `spec/sdd/06_implementation_log/` を参照し、進捗状況と残作業を `spec/sdd/07_handoff/` ディレクトリ内に整理する。

## 手順

1. **現状把握**
   - タスク仕様書から全タスクを把握
   - 実装記録から完了済みタスクを特定
   - **参照したファイルパスを記録**

2. **進捗整理**
   - フェーズ別進捗を算出
   - 全体進捗率を算出

3. **残作業整理**
   - 未完了事項を優先度別に分類
   - ブロッカーを特定

4. **次アクション提案**
   - 即時対応・短期・中期に分類
   - 具体的なタスクIDを紐づけ

5. **ファイル作成・更新**
   - 出力形式に従ってMarkdownファイルを生成
   - **各ファイルの先頭にYAMLフロントマター（references）を追加し、参照したファイルパスを記載**

## 優先度判断基準

- **高（ブロッカー）**: これがないと次に進めない
- **中**: 機能完成に必要だが並行可能
- **低**: MVP/現スコープ外

## 出力先

```
spec/sdd/07_handoff/
├── 00_index.md              # 概要とリンク
├── 01_status.md             # 現在のステータス
├── 02_progress.md           # フェーズ別進捗
├── 03_completed.md          # 完了事項
├── 04_pending.md            # 未完了事項
├── 05_next_actions.md       # 次にやるべきこと
├── 06_issues.md             # 未解決の課題
├── 07_future.md             # 今後の拡張案
└── 08_handover_notes.md     # 引き継ぎ時の注意点
```

## 出力形式

### 00_index.md

```markdown
---
references:
  - ../05_tasks/00_index.md
  - ../05_tasks/99_progress.md
  - ../06_implementation_log/00_index.md
  - ../06_implementation_log/01_completed_tasks.md
---

# 07_handoff（次の人への伝達）

## 概要

進捗と残作業を可視化する段階。
現在の進捗状況、完了事項・未完了事項、次にやるべきことを整理する。
**自分への再開用**や、**他者・別エージェントへの引き継ぎ**に使用する。

## ファイル構成

| ファイル | 内容 |
|----------|------|
| [01_status.md](./01_status.md) | 現在のステータス |
| [02_progress.md](./02_progress.md) | フェーズ別進捗 |
| [03_completed.md](./03_completed.md) | 完了事項 |
| [04_pending.md](./04_pending.md) | 未完了事項 |
| [05_next_actions.md](./05_next_actions.md) | 次にやるべきこと |
| [06_issues.md](./06_issues.md) | 未解決の課題 |
| [07_future.md](./07_future.md) | 今後の拡張案 |
| [08_handover_notes.md](./08_handover_notes.md) | 引き継ぎ時の注意点 |
```

### 01_status.md

```markdown
# 現在のステータス

| 項目 | 状態 |
|------|------|
| 最終更新日 | YYYY-MM-DD |
| 現在のフェーズ | [現在のフェーズ名] |
| 全体進捗 | [X]% |
| ブロッカー | [なし / ある場合は概要] |
```

### 04_pending.md

```markdown
# 未完了事項

## 優先度: 高（ブロッカー）

| 項目 | 理由 | 担当 |
|------|------|------|
| [項目名] | [理由] | [担当] |

## 優先度: 中

| 項目 | 理由 | 担当 |
|------|------|------|

## 優先度: 低（将来対応）

| 項目 | 理由 |
|------|------|
```

### 05_next_actions.md

```markdown
# 次にやるべきこと

## 即時対応

1. **[タスクID]**: [タスク概要]

## 短期（次セッション内）

1. **[タスクID]**: [タスク概要]

## 中期（次フェーズまで）

1. [作業概要]
```

---

# Signal

## 完了条件

- [ ] 現在のステータスが最新に更新されている
- [ ] フェーズ別進捗が算出されている
- [ ] 完了事項・未完了事項が明確に分離されている
- [ ] 次にやるべきことが具体的なタスクIDで記載されている
- [ ] ブロッカーがある場合は明記されている
- [ ] 所定のファイル構成で出力した
- [ ] 各ファイルにYAMLフロントマター（references）で依存先が記載されている

## 品質基準

| 観点 | 基準 |
|------|------|
| 正確性 | 進捗率がタスク完了数から算出 |
| 明確性 | 曖昧な表現がない |
| 即時性 | 最終更新日が正確 |
| 完全性 | ブロッカー・重要情報が省略されていない |

## 異常シグナル

| シグナル | 条件 | アクション |
|---------|------|-----------|
| 🔴 STOP | ブロッカーが未解決 | 対応方針を明記 |
| 🔵 ASK | 優先順位が不明 | 確認を得る |
| 🟡 WARN | 古い情報が残っている | 即座に更新 |
| 🟢 PASS | 全完了条件クリア | ファイル出力・更新 |
